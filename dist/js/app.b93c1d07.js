(function(e){function s(s){for(var a,o,l=s[0],n=s[1],u=s[2],h=0,p=[];h<l.length;h++)o=l[h],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);c&&c(s);while(p.length)p.shift()();return r.push.apply(r,u||[]),t()}function t(){for(var e,s=0;s<r.length;s++){for(var t=r[s],a=!0,l=1;l<t.length;l++){var n=t[l];0!==i[n]&&(a=!1)}a&&(r.splice(s--,1),e=o(o.s=t[0]))}return e}var a={},i={app:0},r=[];function o(s){if(a[s])return a[s].exports;var t=a[s]={i:s,l:!1,exports:{}};return e[s].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=a,o.d=function(e,s,t){o.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:t})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,s){if(1&s&&(e=o(e)),8&s)return e;if(4&s&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var a in e)o.d(t,a,function(s){return e[s]}.bind(null,a));return t},o.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(s,"a",s),s},o.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],n=l.push.bind(l);l.push=s,l=l.slice();for(var u=0;u<l.length;u++)s(l[u]);var c=n;r.push([0,"chunk-vendors"]),t()})({0:function(e,s,t){e.exports=t("56d7")},"56d7":function(e,s,t){"use strict";t.r(s);var a=t("2b0e"),i=function(){var e=this,s=this,t=s.$createElement,a=s._self._c||t;return a("v-app",[a("loading",{attrs:{active:s.show.isLoading,"can-cancel":!1},on:{"update:active":function(e){return s.$set(s.show,"isLoading",e)}}}),a("v-dialog",{attrs:{"max-width":"290"},model:{value:s.show.deployReleaseTrainConfirmationDialog,callback:function(e){s.$set(s.show,"deployReleaseTrainConfirmationDialog",e)},expression:"show.deployReleaseTrainConfirmationDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[s._v("Are you sure you want to do this?")]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(){e.show.deployReleaseTrainConfirmationDialog=!1}}},[s._v("\n          No\n        ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(){e.show.deployReleaseTrainConfirmationDialog=!1,s.deployReleaseTrain()}}},[s._v("\n          Yes\n        ")])],1)],1)],1),a("v-content",[s.show.PrepareReleaseTrain?a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"text-center"},[a("v-btn",{attrs:{"x-large":"",color:"warning"},on:{click:function(e){return s.prepareReleaseTrain()}}},[s._v("Prepare Release Train")])],1)])],1)],1):s._e(),s.show.DeployReleaseTrain?a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"text-center"},[a("v-btn",{attrs:{"x-large":"",color:"error"},on:{click:function(){e.show.deployReleaseTrainConfirmationDialog=!0}}},[s._v("Deploy Release Train")])],1)])],1)],1):s._e(),s.show.PrepareReleasePlane?a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"text-center"},[a("v-btn",{attrs:{"x-large":"",color:"success"},on:{click:function(e){return s.prepareReleasePlane()}}},[s._v("Prepare Release Plane")])],1)])],1)],1):s._e(),s.show.DeployReleasePlane?a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"text-center"},[a("v-btn",{attrs:{"x-large":"",color:"info"},on:{click:function(e){return s.deployReleasePlane()}}},[s._v("Deploy Release Plane")])],1)])],1)],1):s._e()],1)],1)},r=[],o=t("bc3a"),l=t.n(o),n=t("9062"),u=t.n(n),c=(t("e40d"),{name:"App",data:()=>({show:{PrepareReleaseTrain:!0,DeployReleaseTrain:!1,PrepareReleasePlane:!1,DeployReleasePlane:!1,DeployToOverseasTerminals:!1,isLoading:!1,deployReleaseTrainConfirmationDialog:!1},apiBaseUri:"http://127.0.0.1:3333/api/v1",repositories:[],repositoryPullRequests:{}}),components:{Loading:u.a},created(){this.$vuetify.theme.dark=!0},async mounted(){this.show.isLoading=!0;const e=await this.getRepositories(this.apiBaseUri);this.repositories=e.data.data,this.checkForPullRequests()},methods:{getRepositories:async e=>{return l.a.get(e+"/repositories")},getReleaseTrainPullRequests:async(e,s)=>{return l.a.get(e+`/repositories/${s}/release-train-pull-requests`)},createReleaseTrainPullRequest:async(e,s)=>{return l.a.post(e+`/repositories/${s}/release-train-pull-requests`)},deployReleaseTrainPullRequest:async(e,s,t)=>{return l.a.patch(e+`/repositories/${s}/release-train-pull-requests/${t}`)},getReleasePlanePullRequests:async(e,s)=>{return l.a.get(e+`/repositories/${s}/release-plane-pull-requests`)},createReleasePlanePullRequest:async(e,s)=>{return l.a.post(e+`/repositories/${s}/release-plane-pull-requests`)},deployReleasePlanePullRequest:async(e,s,t)=>{return l.a.patch(e+`/repositories/${s}/release-plane-pull-requests/${t}`)},checkForPullRequests:async function(){this.show.isLoading=!0;for(let e of this.repositories){const s=await this.getReleaseTrainPullRequests(this.apiBaseUri,e.slug);s.data.data?this.repositoryPullRequests[e.slug]=s.data.data:delete this.repositoryPullRequests[e.slug]}Object.keys(this.repositoryPullRequests).length>0?this.showDeployReleaseTrain():(this.showPrepareReleaseTrain(),await this.checkForReleasePlanePullRequests()),this.show.isLoading=!1},checkForReleasePlanePullRequests:async function(){this.show.isLoading=!0;for(let e of this.repositories){const s=await this.getReleasePlanePullRequests(this.apiBaseUri,e.slug);s.data.data?this.repositoryPullRequests[e.slug]=s.data.data:delete this.repositoryPullRequests[e.slug]}Object.keys(this.repositoryPullRequests).length>0?this.showDeployReleasePlane():this.showPrepareReleaseTrain(),this.show.isLoading=!1},prepareReleaseTrain:async function(){let e=!1;this.show.isLoading=!0;for(let t of this.repositories)try{await this.createReleaseTrainPullRequest(this.apiBaseUri,t.slug),e=!0}catch(s){}if(!e)return this.showPrepareReleasePlane(),void(this.show.isLoading=!1);await this.checkForPullRequests(),this.show.isLoading=!1},deployReleaseTrain:function(){this.show.isLoading=!0;const e=[];for(let s of Object.keys(this.repositoryPullRequests))for(let t=0;t<this.repositoryPullRequests[s].length;t++)e.push(this.deployReleaseTrainPullRequest(this.apiBaseUri,s,this.repositoryPullRequests[s][t].id));Promise.all(e).then(()=>{this.showPrepareReleaseTrain(),this.show.isLoading=!1})},prepareReleasePlane:async function(){this.show.isLoading=!0;for(let s of this.repositories)try{await this.createReleasePlanePullRequest(this.apiBaseUri,s.slug)}catch(e){}await this.checkForReleasePlanePullRequests(),this.show.isLoading=!1},deployReleasePlane:function(){this.show.isLoading=!0;const e=[];for(let s of Object.keys(this.repositoryPullRequests))for(let t=0;t<this.repositoryPullRequests[s].length;t++)e.push(this.deployReleasePlanePullRequest(this.apiBaseUri,s,this.repositoryPullRequests[s][t].id));Promise.all(e).then(()=>{this.showPrepareReleaseTrain(),this.show.isLoading=!1})},hideAll:function(){for(let e of Object.keys(this.show))this.show[e]=!1},showPrepareReleaseTrain:function(){this.hideAll(),this.show.PrepareReleaseTrain=!0},showDeployReleaseTrain:function(){this.hideAll(),this.show.DeployReleaseTrain=!0},showPrepareReleasePlane:function(){this.hideAll(),this.show.PrepareReleasePlane=!0},showDeployReleasePlane:function(){this.hideAll(),this.show.DeployReleasePlane=!0}}}),h=c,p=t("2877"),d=t("6544"),f=t.n(d),R=t("7496"),y=t("8336"),P=t("b0af"),g=t("99d9"),w=t("62ad"),v=t("a523"),T=t("a75b"),q=t("169a"),b=t("0fd9"),m=Object(p["a"])(h,i,r,!1,null,null,null),k=m.exports;f()(m,{VApp:R["a"],VBtn:y["a"],VCard:P["a"],VCardActions:g["a"],VCardTitle:g["b"],VCol:w["a"],VContainer:v["a"],VContent:T["a"],VDialog:q["a"],VRow:b["a"]});var C=t("f309");a["a"].use(C["a"]);var D=new C["a"]({icons:{iconfont:"mdi"}});a["a"].config.productionTip=!1,new a["a"]({vuetify:D,render:e=>e(k)}).$mount("#app")}});
//# sourceMappingURL=app.b93c1d07.js.map